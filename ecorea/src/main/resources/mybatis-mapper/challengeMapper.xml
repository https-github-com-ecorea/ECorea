<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.ecorea.dao.ChallengeDao">

	<!-- 상품 상세 : 문의 작성 -->
	<insert id="challengeUpload" useGeneratedKeys="true" keyProperty="cno">
		<selectKey keyProperty="cno" order="BEFORE" resultType="int">
			select challenge_seq.nextval from dual
		</selectKey>
		insert into challenge values(#{cno}, #{cname}, #{cgoal}, #{cpoint}, #{cregday}, #{cstartday}, #{cendday}, #{cthumbnail}, #{ccontent}, #{cjoincnt}, #{corpId})
	</insert>

	<select id="findByChallengeAll" resultType="challenge">
		select * from challenge order by cno desc
	</select>

	<select id="findByCorpId" resultType="challenge">
		select * from challenge where corp_id=#{id} order by cno desc
	</select>

	<select id="findBycno" resultType="challenge">
		select * from challenge where cno=#{cno}
	</select>

</mapper>