<!DOCTYPE html>
<html lang="ko">
<head th:replace="fragments/common :: html-head">
  <title>문의 목록 조회</title>
</head>
  <style>
    .wrapper {
      margin: 30px;      
    }
    .btn {
    margin-bottom: 5px;
    }
  </style>
    <script>
		//자바스크립트를 이용해 상품 이미지 미리보기
		function previewImage() {
			const file = $("#pthumbnail")[0].files[0];
			
			// 이미지의 크기 제한 : 1MB
			const maxSize = 1024*1024;
			if(file.size>maxSize) {
				Swal.fire('이미지 크기 오류', '상품이미지는 1MB를 넘을 수 없습니다', 'error');
				// input과 이미지 미리보기 영역을 초기화
				$('#pthumbnail').val('');
				$('#thumbnail_img').removeAttr('src');
				return false;
			}
			
			const reader = new FileReader();
			
			reader.readAsDataURL(file);
			reader.onload = function() {
				$("#thumbnail_img").attr("src", reader.result);
			}
			return true;
		}
  
	  	$(document).ready(function() {
	  		$('#pthumbnail').change(function() {
	  			$('#thumbnail_img').css({
	  				'display': 'block'
	  			});
	  			previewImage();
	  		});
	  	});
  </script>
<body>
<header th:replace="fragments/common::header"></header>
  <h1>문의 목록 조회</h1>
  <div class="wrapper">
  <table class="table">
    <thead class="thead-light">
      <tr>
        <th>번호</th>
        <th>제목</th>
        <th>작성일</th>
        <th>답변여부</th>
      </tr>
    </thead>
    <tbody>
    	<tr th:each = "qna : ${memberQnaList}">
        <td th:text="${qna.qqno}"></td>
        <td><a th:text="${qna.qqtitle}" th:href="@{/mypage/member/qnaDetail(qqno=${qna.qqno})}"></a></td>
	     <td th:text="${qna.qqregday}"></td>
        <td th:text="${qna.isAnswer}"></td>
    	</tr>
    </tbody>
  </table>
  <form id="sendData" method="get">
  	<input type="hidden" name="nowPage" value="${pageMaker.cri.nowPage}">
  	<input type="hidden" name="amount" value="${pageMaker.cri.amount}">
  </form>
</div>
<footer th:replace="fragments/common::footer"></footer>
</body>
</html>