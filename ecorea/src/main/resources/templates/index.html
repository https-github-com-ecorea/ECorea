<!DOCTYPE html>
<html lang="ko">
<head th:replace="fragments/common::html-head">
</head>
<script th:inline="javascript">
  	const role = /*[[${role}]]*/
  	const list = /*[[${list}]]*/
  	const msg = /*[[${errormsg}]]*/  	
  	
  	function productList() {
  		const $wrap = $('#slick-slide');
  		$.each(list, function(idx, product) {
  			$outer = $('<div>').attr('class', 'services-col mx-2 my-3').appendTo($wrap);
  			$card = $('<div>').attr('class', 'card').appendTo($outer);
  			$a = $('<a>').attr('href', './product/productList?nowPage=1&amount=9&catecode=&sort=').appendTo($card);
  			$('<img>').attr('src', product.pthumbnail).attr('alt', '상품').attr('class', 'card-img-top').appendTo($a);
  			$cardbody = $('<div>').attr('class', 'card-body').appendTo($card);
  			$('<p>').attr('class', 'card-title').attr('style', 'color: crimson;').text(product.cname).appendTo($cardbody);
  			$('<p>').attr('class', 'card-text fw-light mb-4').text(product.pname).appendTo($cardbody);
  			$('<span>').attr('style', 'color:black; font-size: 20px;').text(product.price + " 원").appendTo($cardbody);
  		})
  	}  	
  	
  	$(document).ready(function() {
  		productList();
  		
  		if(msg!=null) {
  			alert(msg);
  		}
  	});
  </script>
<body>
  <header th:replace="fragments/common::header">
  <!-- 
    <span class="leftnav"><a href="/">ECorea</a></span>
    <span class="leftnav"><a href="/product/productList?nowPage=1&amount=9&catecode=&sort=">SHOP</a></span>

    <span class="leftnav"><a href="/challenge/challengeList">CHALLENGE</a></span>
    <span class="leftnav"><a href="/about">ABOUT</a></span>

    //<span class="leftnav"><a href="/challenge/challengeList?nowPage=1&amount=9">CHALLENGE</a></span>
    //<span class="leftnav"><a href="/">ABOUT</a></span> 

    <span class="rightnav all"><a href="/general/joinSelect">JOIN</a></span> 
    <span class="rightnav all"><a href="/general/login">LOGIN</a></span>
	<span class="rightnav member corp" style="display: none;"><a href="/general/logout">LOGOUT</a></span>
	<span class="rightnav member" style="display: none;"><a href="/mypage/member/memberMypage">MYPAGE</a></span>
	<span class="rightnav member" style="display: none;"><a href="/order/cart">CART</a></span> 
   	<span class="rightnav corp" style="display: none;"><a href="/mypage/corp/corpMypage">MYPAGE</a></span>
   	-->
  </header>

  <section id="services">
    <div class="section-content">
      <div class="container services">
        <div class="services-header text-center mb-5">
          <p class="display-5">최신 상품</p>
        </div>
        
        <i class="fas fa-chevron-left prev"></i>
        <i class="fas fa-chevron-right next"></i>
      
		<!-- 상품 목록 -->
        <div id="slick-slide" class="sercives-body">
          <div class="services-col mx-2 my-3">
            <div class="card" th:each="product : ${list}">
              <a href="./product/productList?nowPage=1&amount=9&catecode=&sort=">
                <img th:src="${product.pthumbnail}" alt="상품" class="card-img-top">
              </a>
              <div class="card-body">
                <p class="card-title" style="color: crimson;" th:text="${product.cname}">브랜드명</p>
                <p class="card-text fw-light mb-4" th:text="${product.pname}">
                  [업사이클링 DIY] 업사이클링 티셔츠 손목 쿠션 Kit
                </p>
                <span style="color:black; font-size: 20px;" th:text="|${product.price} 원|">15,000원</span>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </section>

  <article>
    <!-- Carousel -->
    <div id="demo" class="carousel slide" data-bs-ride="carousel">
    
      <!-- Indicators/dots -->
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
      </div>
    
      <!-- The slideshow/carousel -->
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="/image/slider1.jpg" alt="챌린지 슬라이더 이미지1" class="d-block w-100">
        </div>
        <div class="carousel-item">
          <img src="/image/slider2.jpg" alt="챌린지 슬라이더 이미지2" class="d-block w-100">
        </div>
        <div class="carousel-item">
          <img src="/image/slider3.jpg" alt="챌린지 슬라이더 이미지3" class="d-block w-100">
        </div>
      </div>
    
      <!-- Left and right controls/icons -->
      <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
    </article>

    <input class="goupbtn" type="button" value="↑" onclick="clickme()"></div>

    <footer th:replace="fragments/common::footer">
    <!-- 
      <address style="font-size: 12px; display:inline-block;margin-top:20px;margin-left:30px;">
        인천광역시 미추홀구<br>
        이메일 : ecorea@gmail.com<br>
        전화번호 : 032-000-0000
      </address>
     -->
    </footer>
 
 


    
    

</body>
</html>